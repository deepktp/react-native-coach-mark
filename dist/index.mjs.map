{"version":3,"sources":["../src/components/style.ts","../src/components/SvgMask.tsx","../src/components/ViewMask.tsx","../src/components/default-ui/StepNumber.tsx","../src/contexts/CoachMarkProvider.tsx","../src/components/CoachMarkModal.tsx","../src/components/default-ui/Tooltip.tsx","../src/components/default-ui/Button.tsx","../src/hooks/useStateWithAwait.ts","../src/hooks/useStepsMap.ts","../src/hocs/walkthroughable.tsx","../src/components/CoachMarkStep.tsx","../src/index.ts"],"sourcesContent":["import { StyleSheet } from \"react-native\";\r\n\r\nexport const STEP_NUMBER_RADIUS: number = 14;\r\nexport const STEP_NUMBER_DIAMETER: number = STEP_NUMBER_RADIUS * 2;\r\nexport const ZINDEX: number = 100;\r\nexport const MARGIN: number = 13;\r\nexport const OFFSET_WIDTH: number = 4;\r\nexport const ARROW_SIZE: number = 6;\r\n\r\nexport const styles = StyleSheet.create({\r\n  container: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: ZINDEX,\r\n  },\r\n  arrow: {\r\n    position: \"absolute\",\r\n    borderWidth: ARROW_SIZE,\r\n  },\r\n  tooltip: {\r\n    position: \"absolute\",\r\n    paddingTop: 15,\r\n    paddingHorizontal: 15,\r\n    backgroundColor: \"#fff\",\r\n    borderRadius: 3,\r\n    overflow: \"hidden\",\r\n  },\r\n  tooltipText: {},\r\n  tooltipContainer: {\r\n    flex: 1,\r\n  },\r\n  stepNumberContainer: {\r\n    position: \"absolute\",\r\n    width: STEP_NUMBER_DIAMETER,\r\n    height: STEP_NUMBER_DIAMETER,\r\n    overflow: \"hidden\",\r\n    zIndex: ZINDEX + 1,\r\n  },\r\n  stepNumber: {\r\n    flex: 1,\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    borderWidth: 2,\r\n    borderRadius: STEP_NUMBER_RADIUS,\r\n    borderColor: \"#FFFFFF\",\r\n    backgroundColor: \"#27ae60\",\r\n  },\r\n  stepNumberText: {\r\n    fontSize: 10,\r\n    backgroundColor: \"transparent\",\r\n    color: \"#FFFFFF\",\r\n  },\r\n  button: {\r\n    padding: 10,\r\n  },\r\n  buttonText: {\r\n    color: \"#27ae60\",\r\n  },\r\n  bottomBar: {\r\n    marginTop: 10,\r\n    flexDirection: \"row\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  overlayRectangle: {\r\n    position: \"absolute\",\r\n    backgroundColor: \"rgba(0,0,0,0.2)\",\r\n    left: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n  },\r\n  overlayContainer: {\r\n    position: \"absolute\",\r\n    left: 0,\r\n    top: 0,\r\n    bottom: 0,\r\n    right: 0,\r\n  },\r\n});\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Animated,\r\n  Dimensions,\r\n  Easing,\r\n  View,\r\n  type LayoutChangeEvent,\r\n} from \"react-native\";\r\nimport Svg, { Path } from \"react-native-svg\";\r\n\r\nimport type { MaskProps, SvgMaskPathFunction, ValueXY } from \"../types\";\r\n\r\nconst AnimatedSvgPath = Animated.createAnimatedComponent(Path);\r\nconst windowDimensions = Dimensions.get(\"window\");\r\n\r\nconst defaultSvgPath: SvgMaskPathFunction = ({\r\n  size,\r\n  position,\r\n  canvasSize,\r\n}): string => {\r\n  const positionX = (position.x as any)._value as number;\r\n  const positionY = (position.y as any)._value as number;\r\n  const sizeX = (size.x as any)._value as number;\r\n  const sizeY = (size.y as any)._value as number;\r\n\r\n  return `M0,0H${canvasSize.x}V${canvasSize.y}H0V0ZM${positionX},${positionY}H${\r\n    positionX + sizeX\r\n  }V${positionY + sizeY}H${positionX}V${positionY}Z`;\r\n};\r\n\r\nexport const SvgMask = ({\r\n  size,\r\n  position,\r\n  style,\r\n  easing = Easing.linear,\r\n  animationDuration = 300,\r\n  animated,\r\n  backdropColor,\r\n  svgMaskPath = defaultSvgPath,\r\n  onClick,\r\n  currentStep,\r\n}: MaskProps) => {\r\n  const [canvasSize, setCanvasSize] = useState<ValueXY>({\r\n    x: windowDimensions.width,\r\n    y: windowDimensions.height,\r\n  });\r\n  const sizeValue = useRef<Animated.ValueXY>(\r\n    new Animated.ValueXY(size)\r\n  ).current;\r\n  const positionValue = useRef<Animated.ValueXY>(\r\n    new Animated.ValueXY(position)\r\n  ).current;\r\n  const maskRef = useRef<any>(null);\r\n\r\n  const animationListener = useCallback(() => {\r\n    const d: string = svgMaskPath({\r\n      size: sizeValue,\r\n      position: positionValue,\r\n      canvasSize,\r\n      step: currentStep,\r\n    });\r\n\r\n    if (maskRef.current) {\r\n      maskRef.current.setNativeProps({ d });\r\n    }\r\n  }, [canvasSize, currentStep, svgMaskPath, positionValue, sizeValue]);\r\n\r\n  const animate = useCallback(\r\n    (toSize: ValueXY = size, toPosition: ValueXY = position) => {\r\n      if (animated) {\r\n        Animated.parallel([\r\n          Animated.timing(sizeValue, {\r\n            toValue: toSize,\r\n            duration: animationDuration,\r\n            easing,\r\n            useNativeDriver: false,\r\n          }),\r\n          Animated.timing(positionValue, {\r\n            toValue: toPosition,\r\n            duration: animationDuration,\r\n            easing,\r\n            useNativeDriver: false,\r\n          }),\r\n        ]).start();\r\n      } else {\r\n        sizeValue.setValue(toSize);\r\n        positionValue.setValue(toPosition);\r\n      }\r\n    },\r\n    [\r\n      animated,\r\n      animationDuration,\r\n      easing,\r\n      positionValue,\r\n      position,\r\n      size,\r\n      sizeValue,\r\n    ]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const id = positionValue.addListener(animationListener);\r\n    return () => {\r\n      positionValue.removeListener(id);\r\n    };\r\n  }, [animationListener, positionValue]);\r\n\r\n  useEffect(() => {\r\n    if (size && position) {\r\n      animate(size, position);\r\n    }\r\n  }, [animate, position, size]);\r\n\r\n  const handleLayout = ({\r\n    nativeEvent: {\r\n      layout: { width, height },\r\n    },\r\n  }: LayoutChangeEvent) => {\r\n    setCanvasSize({\r\n      x: width,\r\n      y: height,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <View\r\n      style={style}\r\n      onLayout={handleLayout}\r\n      onStartShouldSetResponder={onClick}\r\n    >\r\n      {canvasSize ? (\r\n        <Svg pointerEvents=\"none\" width={canvasSize.x} height={canvasSize.y}>\r\n          <AnimatedSvgPath\r\n            ref={maskRef}\r\n            fill={backdropColor}\r\n            fillRule=\"evenodd\"\r\n            strokeWidth={1}\r\n            d={svgMaskPath({\r\n              size: sizeValue,\r\n              position: positionValue,\r\n              canvasSize,\r\n              step: currentStep,\r\n            })}\r\n          />\r\n        </Svg>\r\n      ) : null}\r\n    </View>\r\n  );\r\n};\r\n","import React, { useCallback, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Animated, View } from \"react-native\";\r\nimport { styles } from \"./style\";\r\n\r\nimport type { MaskProps, ValueXY } from \"../types\";\r\n\r\nexport const ViewMask = (props: MaskProps) => {\r\n  const sizeValue = useRef<Animated.ValueXY>(\r\n    new Animated.ValueXY(props.size)\r\n  ).current;\r\n  const positionValue = useRef<Animated.ValueXY>(\r\n    new Animated.ValueXY(props.position)\r\n  ).current;\r\n  const [animated, setAnimated] = useState(false);\r\n\r\n  const animate = useCallback(\r\n    (size: ValueXY = props.size, position: ValueXY = props.position): void => {\r\n      if (animated) {\r\n        Animated.parallel([\r\n          Animated.timing(sizeValue, {\r\n            toValue: size,\r\n            duration: props.animationDuration,\r\n            easing: props.easing,\r\n            useNativeDriver: false,\r\n          }),\r\n          Animated.timing(positionValue, {\r\n            toValue: position,\r\n            duration: props.animationDuration,\r\n            easing: props.easing,\r\n            useNativeDriver: false,\r\n          }),\r\n        ]).start();\r\n      } else {\r\n        sizeValue.setValue(size);\r\n        positionValue.setValue(position);\r\n        setAnimated(props.animated);\r\n      }\r\n    },\r\n    [\r\n      animated,\r\n      positionValue,\r\n      props.animated,\r\n      props.animationDuration,\r\n      props.easing,\r\n      props.position,\r\n      props.size,\r\n      sizeValue,\r\n    ]\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (props.position || props.size) {\r\n      animate(props.size, props.position);\r\n    }\r\n  }, [animate, props.position, props.size]);\r\n\r\n  const width = props.layout ? props.layout.width : 500;\r\n  const height = props.layout ? props.layout.height : 500;\r\n\r\n  const leftOverlayRight = Animated.add(\r\n    width,\r\n    Animated.multiply(positionValue.x, -1)\r\n  );\r\n  const rightOverlayLeft = Animated.add(sizeValue.x, positionValue.x);\r\n  const bottomOverlayTopBoundary = Animated.add(sizeValue.y, positionValue.y);\r\n  const topOverlayBottomBoundary = Animated.add(\r\n    height,\r\n    Animated.multiply(-1, positionValue.y)\r\n  );\r\n  const verticalOverlayLeftBoundary = positionValue.x;\r\n  const verticalOverlayRightBoundary = Animated.add(\r\n    width,\r\n    Animated.multiply(-1, rightOverlayLeft)\r\n  );\r\n\r\n  return (\r\n    <View style={props.style} onStartShouldSetResponder={props.onClick}>\r\n      {[\r\n        {\r\n          right: leftOverlayRight,\r\n          backgroundColor: props.backdropColor,\r\n        },\r\n        {\r\n          left: rightOverlayLeft,\r\n          backgroundColor: props.backdropColor,\r\n        },\r\n        {\r\n          top: bottomOverlayTopBoundary,\r\n          left: verticalOverlayLeftBoundary,\r\n          right: verticalOverlayRightBoundary,\r\n          backgroundColor: props.backdropColor,\r\n        },\r\n        {\r\n          bottom: topOverlayBottomBoundary,\r\n          left: verticalOverlayLeftBoundary,\r\n          right: verticalOverlayRightBoundary,\r\n          backgroundColor: props.backdropColor,\r\n        },\r\n      ].map((style, index) => (\r\n        <Animated.View key={index} style={[styles.overlayRectangle, style]} />\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n","import React, { type FunctionComponent } from \"react\";\r\nimport { Text, View } from \"react-native\";\r\nimport { useCoachMark } from \"../../contexts/CoachMarkProvider\";\r\n\r\nimport { styles } from \"../style\";\r\n\r\nexport const StepNumber: FunctionComponent<unknown> = () => {\r\n  const { currentStepNumber } = useCoachMark();\r\n\r\n  return (\r\n    <View style={styles.stepNumber}>\r\n      <Text style={styles.stepNumberText}>{currentStepNumber}</Text>\r\n    </View>\r\n  );\r\n};\r\n","import mitt, { type Emitter } from \"mitt\";\r\nimport React, {\r\n  createContext,\r\n  useCallback,\r\n  useContext,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n  type PropsWithChildren,\r\n} from \"react\";\r\nimport { findNodeHandle, type ScrollView } from \"react-native\";\r\nimport {\r\n  CoachMarkModal,\r\n  type CoachMarkModalHandle\r\n} from \"../components/CoachMarkModal\";\r\nimport { OFFSET_WIDTH } from \"../components/style\";\r\nimport { useStateWithAwait } from \"../hooks/useStateWithAwait\";\r\nimport { useStepsMap } from \"../hooks/useStepsMap\";\r\nimport { type CoachMarkOptions, type Step } from \"../types\";\r\n\r\n// eslint-disable-next-line @typescript-eslint/consistent-type-definitions\r\ntype Events = {\r\n  start: undefined;\r\n  stop: undefined;\r\n  stepChange: Step | undefined;\r\n};\r\n\r\ninterface CoachMarkContextType {\r\n  registerStep: (step: Step) => void;\r\n  unregisterStep: (stepName: string) => void;\r\n  currentStep: Step | undefined;\r\n  start: (\r\n    fromStep?: string,\r\n    suppliedScrollView?: ScrollView | null\r\n  ) => Promise<void>;\r\n  stop: () => Promise<void>;\r\n  goToNext: () => Promise<void>;\r\n  goToNth: (n: number) => Promise<void>;\r\n  goToPrev: () => Promise<void>;\r\n  visible: boolean;\r\n  coachMarkEvents: Emitter<Events>;\r\n  isFirstStep: boolean;\r\n  isLastStep: boolean;\r\n  currentStepNumber: number;\r\n  totalStepsNumber: number;\r\n}\r\n\r\n/*\r\nThis is the maximum wait time for the steps to be registered before starting the tutorial\r\nAt 60fps means 2 seconds\r\n*/\r\nconst MAX_START_TRIES = 120;\r\n\r\nconst CoachMarkContext = createContext<CoachMarkContextType | undefined>(undefined);\r\n\r\nexport const CoachMarkProvider = ({\r\n  verticalOffset = 0,\r\n  children,\r\n  ...rest\r\n}: PropsWithChildren<CoachMarkOptions>) => {\r\n  const startTries = useRef(0);\r\n  const coachMarkEvents = useRef(mitt<Events>()).current;\r\n  const modal = useRef<CoachMarkModalHandle | null>(null);\r\n\r\n  const [visible, setVisibility] = useStateWithAwait(false);\r\n  const [scrollView, setScrollView] = useState<ScrollView | null>(null);\r\n\r\n  const {\r\n    currentStep,\r\n    currentStepNumber,\r\n    totalStepsNumber,\r\n    getFirstStep,\r\n    getPrevStep,\r\n    getNextStep,\r\n    getNthStep,\r\n    isFirstStep,\r\n    isLastStep,\r\n    setCurrentStepState,\r\n    steps,\r\n    registerStep,\r\n    unregisterStep,\r\n  } = useStepsMap();\r\n\r\n  const moveModalToStep = useCallback(\r\n    async (step: Step) => {\r\n      const size = await step?.measure();\r\n\r\n      if (!size) {\r\n        return;\r\n      }\r\n\r\n      await modal.current?.animateMove({\r\n        width: size.width + OFFSET_WIDTH,\r\n        height: size.height + OFFSET_WIDTH,\r\n        x: size.x - OFFSET_WIDTH / 2,\r\n        y: size.y - OFFSET_WIDTH / 2 + verticalOffset,\r\n      });\r\n    },\r\n    [verticalOffset]\r\n  );\r\n\r\n  const setCurrentStep = useCallback(\r\n    async (step?: Step, move: boolean = true) => {\r\n      setCurrentStepState(step);\r\n      coachMarkEvents.emit(\"stepChange\", step);\r\n\r\n      if (scrollView != null) {\r\n        const nodeHandle = findNodeHandle(scrollView);\r\n        if (nodeHandle) {\r\n          step?.wrapperRef.current?.measureLayout(\r\n            nodeHandle,\r\n            (_x, y, _w, h) => {\r\n              const yOffset = y > 0 ? y - h / 2 : 0;\r\n              scrollView.scrollTo({ y: yOffset, animated: false });\r\n            }\r\n          );\r\n        }\r\n      }\r\n\r\n      setTimeout(\r\n        () => {\r\n          if (move && step) {\r\n            void moveModalToStep(step);\r\n          }\r\n        },\r\n        scrollView != null ? 100 : 0\r\n      );\r\n    },\r\n    [coachMarkEvents, moveModalToStep, scrollView, setCurrentStepState]\r\n  );\r\n\r\n  const start = useCallback(\r\n    async (fromStep?: string, suppliedScrollView: ScrollView | null = null) => {\r\n      if (scrollView == null) {\r\n        setScrollView(suppliedScrollView);\r\n      }\r\n\r\n      const currentStep = fromStep ? steps[fromStep] : getFirstStep();\r\n\r\n      if (startTries.current > MAX_START_TRIES) {\r\n        startTries.current = 0;\r\n        return;\r\n      }\r\n\r\n      if (currentStep == null) {\r\n        startTries.current += 1;\r\n        requestAnimationFrame(() => {\r\n          void start(fromStep);\r\n        });\r\n      } else {\r\n        coachMarkEvents.emit(\"start\");\r\n        await setCurrentStep(currentStep);\r\n        await moveModalToStep(currentStep);\r\n        await setVisibility(true);\r\n        startTries.current = 0;\r\n      }\r\n    },\r\n    [\r\n      coachMarkEvents,\r\n      getFirstStep,\r\n      moveModalToStep,\r\n      scrollView,\r\n      setCurrentStep,\r\n      setVisibility,\r\n      steps,\r\n    ]\r\n  );\r\n\r\n  const stop = useCallback(async () => {\r\n    await setVisibility(false);\r\n    coachMarkEvents.emit(\"stop\");\r\n  }, [coachMarkEvents, setVisibility]);\r\n\r\n  const next = useCallback(async () => {\r\n    await setCurrentStep(getNextStep());\r\n  }, [getNextStep, setCurrentStep]);\r\n\r\n  const nth = useCallback(\r\n    async (n: number) => {\r\n      await setCurrentStep(getNthStep(n));\r\n    },\r\n    [getNthStep, setCurrentStep]\r\n  );\r\n\r\n  const prev = useCallback(async () => {\r\n    await setCurrentStep(getPrevStep());\r\n  }, [getPrevStep, setCurrentStep]);\r\n\r\n  const value = useMemo(\r\n    () => ({\r\n      registerStep,\r\n      unregisterStep,\r\n      currentStep,\r\n      start,\r\n      stop,\r\n      visible,\r\n      coachMarkEvents,\r\n      goToNext: next,\r\n      goToNth: nth,\r\n      goToPrev: prev,\r\n      isFirstStep,\r\n      isLastStep,\r\n      currentStepNumber,\r\n      totalStepsNumber,\r\n    }),\r\n    [\r\n      registerStep,\r\n      unregisterStep,\r\n      currentStep,\r\n      start,\r\n      stop,\r\n      visible,\r\n      coachMarkEvents,\r\n      next,\r\n      nth,\r\n      prev,\r\n      isFirstStep,\r\n      isLastStep,\r\n      currentStepNumber,\r\n      totalStepsNumber,\r\n    ]\r\n  );\r\n\r\n  return (\r\n    <CoachMarkContext.Provider value={value}>\r\n      <>\r\n        <CoachMarkModal\r\n          ref={modal}\r\n          {...rest}\r\n        />\r\n        {children}\r\n      </>\r\n    </CoachMarkContext.Provider>\r\n  );\r\n};\r\n\r\nexport const useCoachMark = () => {\r\n  const value = useContext(CoachMarkContext);\r\n  if (value == null) {\r\n    throw new Error(\"You must wrap your app inside CoachMarkProvider\");\r\n  }\r\n\r\n  return value;\r\n};\r\n","import React, {\r\n  forwardRef,\r\n  useCallback,\r\n  useEffect,\r\n  useImperativeHandle,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport {\r\n  Animated,\r\n  Easing,\r\n  Modal,\r\n  NativeModules,\r\n  Platform,\r\n  StatusBar,\r\n  View,\r\n  type LayoutChangeEvent,\r\n  type LayoutRectangle,\r\n  type ViewStyle,\r\n} from \"react-native\";\r\nimport { useCoachMark } from \"../contexts/CoachMarkProvider\";\r\nimport type { CoachMarkOptions } from \"../types\";\r\nimport { StepNumber } from \"./default-ui/StepNumber\";\r\nimport { Tooltip } from \"./default-ui/Tooltip\";\r\nimport {\r\n  ARROW_SIZE,\r\n  MARGIN,\r\n  STEP_NUMBER_DIAMETER,\r\n  STEP_NUMBER_RADIUS,\r\n  styles,\r\n} from \"./style\";\r\n\r\ntype Props = CoachMarkOptions;\r\n\r\nconst noop = () => {};\r\n\r\nconst makeDefaultLayout = (): LayoutRectangle => ({\r\n  x: 0,\r\n  y: 0,\r\n  width: 0,\r\n  height: 0,\r\n});\r\n\r\nexport interface CoachMarkModalHandle {\r\n  animateMove: (obj: LayoutRectangle) => Promise<void>;\r\n}\r\n\r\nexport const CoachMarkModal = forwardRef<CoachMarkModalHandle, Props>(\r\n  function CoachMarkModal(\r\n    {\r\n      easing = Easing.elastic(0.7),\r\n      animationDuration = 400,\r\n      tooltipComponent: TooltipComponent = Tooltip,\r\n      tooltipStyle = {},\r\n      stepNumberComponent: StepNumberComponent = StepNumber,\r\n      overlay = typeof NativeModules.RNSVGSvgViewManager !== \"undefined\"\r\n        ? \"svg\"\r\n        : \"view\",\r\n      animated = typeof NativeModules.RNSVGSvgViewManager !== \"undefined\",\r\n      androidStatusBarVisible = false,\r\n      backdropColor = \"rgba(0, 0, 0, 0.4)\",\r\n      labels = {\r\n        finish: \"Finish\",\r\n        next: \"Next\",\r\n        previous: \"Previous\",\r\n        skip: \"Skip\",\r\n      },\r\n      svgMaskPath,\r\n      stopOnOutsideClick = false,\r\n      arrowColor = \"#fff\",\r\n      arrowSize = ARROW_SIZE,\r\n      margin = MARGIN,\r\n    },\r\n    ref,\r\n  ) {\r\n    const { stop, currentStep, visible } = useCoachMark();\r\n    const [tooltipStyles, setTooltipStyles] = useState({});\r\n    const [arrowStyles, setArrowStyles] = useState({});\r\n    const [animatedValues] = useState({\r\n      top: new Animated.Value(0),\r\n      stepNumberLeft: new Animated.Value(0),\r\n    });\r\n    const layoutRef = useRef(makeDefaultLayout());\r\n    const [layout, setLayout] = useState<LayoutRectangle | undefined>(\r\n      undefined,\r\n    );\r\n    const [maskRect, setMaskRect] = useState<LayoutRectangle | undefined>();\r\n\r\n    const [isAnimated, setIsAnimated] = useState(false);\r\n    const [containerVisible, setContainerVisible] = useState(false);\r\n\r\n    useEffect(() => {\r\n      if (visible) {\r\n        setContainerVisible(true);\r\n      }\r\n    }, [visible]);\r\n\r\n    useEffect(() => {\r\n      if (!visible) {\r\n        reset();\r\n      }\r\n    }, [visible]);\r\n\r\n    const handleLayoutChange = ({\r\n      nativeEvent: { layout: newLayout },\r\n    }: LayoutChangeEvent) => {\r\n      layoutRef.current = newLayout;\r\n    };\r\n\r\n    const measure = async (): Promise<LayoutRectangle> => {\r\n      return await new Promise((resolve) => {\r\n        const updateLayout = () => {\r\n          if (layoutRef.current.width !== 0) {\r\n            resolve(layoutRef.current);\r\n          } else {\r\n            requestAnimationFrame(updateLayout);\r\n          }\r\n        };\r\n\r\n        updateLayout();\r\n      });\r\n    };\r\n\r\n    const _animateMove = useCallback(\r\n      async (rect: LayoutRectangle) => {\r\n        const newMeasuredLayout = await measure();\r\n        if (!androidStatusBarVisible && Platform.OS === \"android\") {\r\n          rect.y -= StatusBar.currentHeight ?? 0;\r\n        }\r\n\r\n        let stepNumberLeft = rect.x - STEP_NUMBER_RADIUS;\r\n\r\n        if (stepNumberLeft < 0) {\r\n          stepNumberLeft = rect.x + rect.width - STEP_NUMBER_RADIUS;\r\n          if (stepNumberLeft > newMeasuredLayout.width - STEP_NUMBER_DIAMETER) {\r\n            stepNumberLeft = newMeasuredLayout.width - STEP_NUMBER_DIAMETER;\r\n          }\r\n        }\r\n\r\n        const center = {\r\n          x: rect.x + rect.width / 2,\r\n          y: rect.y + rect.height / 2,\r\n        };\r\n\r\n        const relativeToLeft = center.x;\r\n        const relativeToTop = center.y;\r\n        const relativeToBottom = Math.abs(center.y - newMeasuredLayout.height);\r\n        const relativeToRight = Math.abs(center.x - newMeasuredLayout.width);\r\n\r\n        const verticalPosition =\r\n          relativeToBottom > relativeToTop ? \"bottom\" : \"top\";\r\n        const horizontalPosition =\r\n          relativeToLeft > relativeToRight ? \"left\" : \"right\";\r\n\r\n        const tooltip: ViewStyle = {};\r\n        const arrow: ViewStyle = {};\r\n\r\n        arrow.position = \"absolute\";\r\n\r\n        if (verticalPosition === \"bottom\") {\r\n          tooltip.top = rect.y + rect.height + margin;\r\n          arrow.borderBottomColor = arrowColor;\r\n          arrow.borderTopColor = \"transparent\";\r\n          arrow.borderLeftColor = \"transparent\";\r\n          arrow.borderRightColor = \"transparent\";\r\n          arrow.top = tooltip.top - arrowSize * 2;\r\n        } else {\r\n          tooltip.bottom = newMeasuredLayout.height - (rect.y - margin);\r\n          arrow.borderTopColor = arrowColor;\r\n          arrow.borderLeftColor = \"transparent\";\r\n          arrow.borderRightColor = \"transparent\";\r\n          arrow.borderBottomColor = \"transparent\";\r\n          arrow.bottom = tooltip.bottom - arrowSize * 2;\r\n        }\r\n\r\n        if (horizontalPosition === \"left\") {\r\n          tooltip.right = Math.max(\r\n            newMeasuredLayout.width - (rect.x + rect.width),\r\n            0,\r\n          );\r\n          tooltip.right =\r\n            tooltip.right === 0 ? tooltip.right + margin : tooltip.right;\r\n          tooltip.maxWidth = newMeasuredLayout.width - tooltip.right - margin;\r\n          arrow.right = tooltip.right + margin;\r\n        } else {\r\n          tooltip.left = Math.max(rect.x, 0);\r\n          tooltip.left =\r\n            tooltip.left === 0 ? tooltip.left + margin : tooltip.left;\r\n          tooltip.maxWidth = newMeasuredLayout.width - tooltip.left - margin;\r\n          arrow.left = tooltip.left + margin;\r\n        }\r\n\r\n        sanitize(arrow);\r\n        sanitize(tooltip);\r\n        sanitize(rect);\r\n\r\n        const animate = [\r\n          [\"top\", rect.y],\r\n          [\"stepNumberLeft\", stepNumberLeft],\r\n        ] as const;\r\n\r\n        if (isAnimated) {\r\n          Animated.parallel(\r\n            animate.map(([key, value]) => {\r\n              return Animated.timing(animatedValues[key], {\r\n                toValue: value,\r\n                duration: animationDuration,\r\n                easing,\r\n                useNativeDriver: false,\r\n              });\r\n            }),\r\n          ).start();\r\n        } else {\r\n          animate.forEach(([key, value]) => {\r\n            animatedValues[key].setValue(value);\r\n          });\r\n        }\r\n\r\n        setTooltipStyles(tooltip);\r\n        setArrowStyles(arrow);\r\n        setLayout(newMeasuredLayout);\r\n        setMaskRect({\r\n          width: rect.width,\r\n          height: rect.height,\r\n          x: Math.floor(Math.max(rect.x, 0)),\r\n          y: Math.floor(Math.max(rect.y, 0)),\r\n        });\r\n      },\r\n      [\r\n        androidStatusBarVisible,\r\n        animatedValues,\r\n        animationDuration,\r\n        arrowColor,\r\n        easing,\r\n        isAnimated,\r\n        arrowSize,\r\n        margin,\r\n      ],\r\n    );\r\n\r\n    const animateMove = useCallback<CoachMarkModalHandle[\"animateMove\"]>(\r\n      async (rect) => {\r\n        await new Promise<void>((resolve) => {\r\n          const frame = async () => {\r\n            await _animateMove(rect);\r\n            resolve();\r\n          };\r\n\r\n          setContainerVisible(true);\r\n          requestAnimationFrame(() => {\r\n            void frame();\r\n          });\r\n        });\r\n      },\r\n      [_animateMove],\r\n    );\r\n\r\n    const reset = () => {\r\n      setIsAnimated(false);\r\n      setContainerVisible(false);\r\n      setLayout(undefined);\r\n    };\r\n\r\n    const handleStop = () => {\r\n      reset();\r\n      void stop();\r\n    };\r\n\r\n    const handleMaskClick = () => {\r\n      if (stopOnOutsideClick) {\r\n        handleStop();\r\n      }\r\n    };\r\n\r\n    useImperativeHandle(\r\n      ref,\r\n      () => {\r\n        return {\r\n          animateMove,\r\n        };\r\n      },\r\n      [animateMove],\r\n    );\r\n\r\n    const modalVisible = containerVisible || visible;\r\n    const contentVisible = layout != null && containerVisible;\r\n\r\n    if (!modalVisible) {\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <Modal\r\n        animationType=\"none\"\r\n        visible\r\n        onRequestClose={noop}\r\n        transparent\r\n        supportedOrientations={[\"portrait\", \"landscape\"]}\r\n      >\r\n        <View style={styles.container} onLayout={handleLayoutChange}>\r\n          {contentVisible && renderMask()}\r\n          {contentVisible && renderTooltip()}\r\n        </View>\r\n      </Modal>\r\n    );\r\n\r\n    function renderMask() {\r\n      const MaskComponent =\r\n        overlay === \"svg\"\r\n          ? // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./SvgMask\").SvgMask\r\n          : // eslint-disable-next-line @typescript-eslint/no-var-requires\r\n            require(\"./ViewMask\").ViewMask;\r\n\r\n      const size = maskRect && {\r\n        x: maskRect.width,\r\n        y: maskRect.height,\r\n      };\r\n\r\n      const position = maskRect;\r\n\r\n      return (\r\n        <MaskComponent\r\n          animated={animated}\r\n          layout={layout}\r\n          style={styles.overlayContainer}\r\n          size={size}\r\n          position={position}\r\n          easing={easing}\r\n          animationDuration={animationDuration}\r\n          backdropColor={backdropColor}\r\n          svgMaskPath={svgMaskPath}\r\n          onClick={handleMaskClick}\r\n          currentStep={currentStep}\r\n        />\r\n      );\r\n    }\r\n\r\n    function renderTooltip() {\r\n      if (!currentStep) {\r\n        return null;\r\n      }\r\n      return (\r\n        <>\r\n          <Animated.View\r\n            key=\"stepNumber\"\r\n            style={[\r\n              styles.stepNumberContainer,\r\n              {\r\n                left: animatedValues.stepNumberLeft,\r\n                top: Animated.add(animatedValues.top, -STEP_NUMBER_RADIUS),\r\n              },\r\n            ]}\r\n          >\r\n            <StepNumberComponent />\r\n          </Animated.View>\r\n          {!!arrowSize && (\r\n            <Animated.View key=\"arrow\" style={[styles.arrow, arrowStyles]} />\r\n          )}\r\n          <Animated.View\r\n            key=\"tooltip\"\r\n            style={[styles.tooltip, tooltipStyles, tooltipStyle]}\r\n          >\r\n            <TooltipComponent labels={labels} />\r\n          </Animated.View>\r\n        </>\r\n      );\r\n    }\r\n  },\r\n);\r\n\r\nconst floorify = (obj: Record<string, any>) => {\r\n  Object.keys(obj).forEach((key) => {\r\n    if (typeof obj[key] === \"number\") {\r\n      obj[key] = Math.floor(obj[key]);\r\n    }\r\n  });\r\n};\r\n\r\nconst removeNan = (obj: Record<string, any>) => {\r\n  Object.keys(obj).forEach((key) => {\r\n    if (typeof obj[key] === \"number\" && isNaN(obj[key])) {\r\n      // eslint-disable-next-line @typescript-eslint/no-dynamic-delete\r\n      delete obj[key];\r\n    }\r\n  });\r\n};\r\n\r\nconst sanitize = (obj: Record<any, any>) => {\r\n  floorify(obj);\r\n  removeNan(obj);\r\n};\r\n","import React from \"react\";\r\nimport { Text, TouchableOpacity, View } from \"react-native\";\r\n\r\nimport { Button } from \"./Button\";\r\n\r\nimport { styles } from \"../style\";\r\n\r\nimport type { TooltipProps } from \"../../types\";\r\nimport { useCoachMark } from \"../../contexts/CoachMarkProvider\";\r\n\r\nexport const Tooltip = ({ labels }: TooltipProps) => {\r\n  const { goToNext, goToPrev, stop, currentStep, isFirstStep, isLastStep } =\r\n    useCoachMark();\r\n\r\n  const handleStop = () => {\r\n    void stop();\r\n  };\r\n  const handleNext = () => {\r\n    void goToNext();\r\n  };\r\n\r\n  const handlePrev = () => {\r\n    void goToPrev();\r\n  };\r\n\r\n  return (\r\n    <View>\r\n      <View style={styles.tooltipContainer}>\r\n        { typeof currentStep?.text === \"string\" ? (\r\n          <Text style={styles.tooltipText}>{currentStep.text}</Text>\r\n        ) : (\r\n          currentStep?.text\r\n        ) }\r\n      </View>\r\n      <View style={[styles.bottomBar]}>\r\n        {!isLastStep ? (\r\n          <TouchableOpacity onPress={handleStop}>\r\n            <Button>{labels.skip}</Button>\r\n          </TouchableOpacity>\r\n        ) : null}\r\n        {!isFirstStep ? (\r\n          <TouchableOpacity onPress={handlePrev}>\r\n            <Button>{labels.previous}</Button>\r\n          </TouchableOpacity>\r\n        ) : null}\r\n        {!isLastStep ? (\r\n          <TouchableOpacity onPress={handleNext}>\r\n            <Button>{labels.next}</Button>\r\n          </TouchableOpacity>\r\n        ) : (\r\n          <TouchableOpacity onPress={handleStop}>\r\n            <Button>{labels.finish}</Button>\r\n          </TouchableOpacity>\r\n        )}\r\n      </View>\r\n    </View>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport {\r\n  View,\r\n  Text,\r\n  type StyleProp,\r\n  type ViewStyle,\r\n  type TextStyle,\r\n  type TextProps,\r\n} from \"react-native\";\r\n\r\nimport { styles } from \"../style\";\r\n\r\ntype Props = {\r\n  wrapperStyle?: StyleProp<ViewStyle>;\r\n  style?: StyleProp<TextStyle>;\r\n} & Omit<TextProps, \"style\">;\r\n\r\nexport const Button = ({ wrapperStyle, style, ...rest }: Props) => (\r\n  <View style={[styles.button, wrapperStyle]}>\r\n    <Text style={[styles.buttonText, style]} {...rest} />\r\n  </View>\r\n);\r\n","import { useEffect, useRef, useState } from \"react\";\r\n\r\n/**\r\n * A hook like useState that allows you to use await the setter\r\n */\r\nexport const useStateWithAwait = <T = any>(\r\n  initialState: T\r\n): [T, (newValue: T) => Promise<void>] => {\r\n  const endPending = useRef(() => {});\r\n  const newDesiredValue = useRef(initialState);\r\n\r\n  const [state, setState] = useState(initialState);\r\n\r\n  const setStateWithAwait = async (newState: T) => {\r\n    const pending = new Promise<void>((resolve) => {\r\n      endPending.current = resolve;\r\n    });\r\n    newDesiredValue.current = newState;\r\n    setState(newState);\r\n    await pending;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (state === newDesiredValue.current) {\r\n      endPending.current();\r\n    }\r\n  }, [state]);\r\n\r\n  return [state, setStateWithAwait];\r\n};\r\n","import { useCallback, useMemo, useReducer, useState } from \"react\";\r\nimport { type Step, type StepsMap } from \"../types\";\r\n\r\ntype Action =\r\n  | {\r\n      type: \"register\";\r\n      step: Step;\r\n    }\r\n  | {\r\n      type: \"unregister\";\r\n      stepName: string;\r\n    };\r\n\r\nexport const useStepsMap = () => {\r\n  const [currentStep, setCurrentStepState] = useState<Step | undefined>(\r\n    undefined\r\n  );\r\n\r\n  const [steps, dispatch] = useReducer((state: StepsMap, action: Action) => {\r\n    switch (action.type) {\r\n      case \"register\":\r\n        return {\r\n          ...state,\r\n          [action.step.name]: action.step,\r\n        };\r\n      case \"unregister\": {\r\n        const { [action.stepName]: _, ...rest } = state;\r\n        return rest;\r\n      }\r\n      default:\r\n        return state;\r\n    }\r\n  }, {});\r\n\r\n  const orderedSteps = useMemo(\r\n    () => Object.values(steps).sort((a, b) => a.order - b.order),\r\n    [steps]\r\n  );\r\n\r\n  const stepIndex = useCallback(\r\n    (step = currentStep) =>\r\n      step\r\n        ? orderedSteps.findIndex(\r\n            (stepCandidate) => stepCandidate.order === step.order\r\n          )\r\n        : -1,\r\n    [currentStep, orderedSteps]\r\n  );\r\n\r\n  const currentStepNumber = useMemo(\r\n    (step = currentStep) => stepIndex(step) + 1,\r\n    [currentStep, stepIndex]\r\n  );\r\n\r\n  const totalStepsNumber = useMemo(() => orderedSteps.length, [orderedSteps]);\r\n\r\n  const getFirstStep = useCallback(() => orderedSteps[0], [orderedSteps]);\r\n\r\n  const getLastStep = useCallback(\r\n    () => orderedSteps[orderedSteps.length - 1],\r\n    [orderedSteps]\r\n  );\r\n\r\n  const getPrevStep = useCallback(\r\n    (step = currentStep) => step && orderedSteps[stepIndex(step) - 1],\r\n    [currentStep, stepIndex, orderedSteps]\r\n  );\r\n\r\n  const getNextStep = useCallback(\r\n    (step = currentStep) => step && orderedSteps[stepIndex(step) + 1],\r\n    [currentStep, stepIndex, orderedSteps]\r\n  );\r\n\r\n  const getNthStep = useCallback(\r\n    (n: number) => orderedSteps[n - 1],\r\n    [orderedSteps]\r\n  );\r\n\r\n  const isFirstStep = useMemo(\r\n    () => currentStep === getFirstStep(),\r\n    [currentStep, getFirstStep]\r\n  );\r\n\r\n  const isLastStep = useMemo(\r\n    () => currentStep === getLastStep(),\r\n    [currentStep, getLastStep]\r\n  );\r\n\r\n  const registerStep = useCallback((step: Step) => {\r\n    dispatch({ type: \"register\", step });\r\n  }, []);\r\n\r\n  const unregisterStep = useCallback((stepName: string) => {\r\n    dispatch({ type: \"unregister\", stepName });\r\n  }, []);\r\n\r\n  return {\r\n    currentStepNumber,\r\n    totalStepsNumber,\r\n    getFirstStep,\r\n    getLastStep,\r\n    getPrevStep,\r\n    getNextStep,\r\n    getNthStep,\r\n    isFirstStep,\r\n    isLastStep,\r\n    currentStep,\r\n    setCurrentStepState,\r\n    steps,\r\n    registerStep,\r\n    unregisterStep,\r\n  };\r\n};\r\n","import React, { type FunctionComponent } from \"react\";\r\nimport { type NativeMethods } from \"react-native/types\";\r\n\r\ninterface CopilotType {\r\n  ref?: React.RefObject<NativeMethods>;\r\n  onLayout?: () => void;\r\n}\r\n\r\nexport function walkthroughable<P = any>(\r\n  WrappedComponent: React.ComponentType<P>,\r\n) {\r\n  const Component: FunctionComponent<P> = (props: P) => {\r\n    const { copilot, ...rest } = props as { copilot: CopilotType } & P;\r\n    return <WrappedComponent {...copilot} {...(rest as any)} />;\r\n  };\r\n\r\n  Component.displayName = \"Walkthroughable\";\r\n\r\n  return Component;\r\n}\r\n","import React, { useEffect, useMemo, useRef } from \"react\";\r\nimport { type NativeMethods } from \"react-native\";\r\n\r\nimport { useCoachMark } from \"../contexts/CoachMarkProvider\";\r\n\r\ninterface Props {\r\n  name: string;\r\n  order: number;\r\n  text: React.ReactElement<any> | string;\r\n  children: React.ReactElement<any>;\r\n  active?: boolean;\r\n  verison?: string | number;\r\n}\r\n\r\n/**\r\n * \r\n * @props name: string - Unique id for step\r\n * @props order: number - Order of step\r\n * @props text: React.ReactElement<any> | string - String or React element to display in tooltip\r\n * @props children: React.ReactElement<any> - Child element to wrap with copilot\r\n * @props active?: boolean - If step is active\r\n * @props verison?: string | number - Change this prop to force update the component\r\n * @returns \r\n */\r\n\r\nexport const CoachMarkStep = ({\r\n  name,\r\n  order,\r\n  text,\r\n  children,\r\n  active = true,\r\n  verison = undefined\r\n}: Props) => {\r\n  const registeredName = useRef<string | null>(null);\r\n  const { registerStep, unregisterStep } = useCoachMark();\r\n  const wrapperRef = React.useRef<NativeMethods | null>(null);\r\n\r\n  const measure = async () => {\r\n    return await new Promise<{\r\n      x: number;\r\n      y: number;\r\n      width: number;\r\n      height: number;\r\n    }>((resolve) => {\r\n      const measure = () => {\r\n        // Wait until the wrapper element appears\r\n        if (wrapperRef.current != null && \"measure\" in wrapperRef.current) {\r\n          wrapperRef.current.measure((_ox, _oy, width, height, x, y) => {\r\n            resolve({\r\n              x,\r\n              y,\r\n              width,\r\n              height,\r\n            });\r\n          });\r\n        } else {\r\n          requestAnimationFrame(measure);\r\n        }\r\n      };\r\n\r\n      measure();\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (active) {\r\n      if (registeredName.current && registeredName.current !== name) {\r\n        unregisterStep(registeredName.current);\r\n      }\r\n      registerStep({\r\n        name,\r\n        text,\r\n        order,\r\n        measure,\r\n        wrapperRef,\r\n        visible: true,\r\n      });\r\n      registeredName.current = name;\r\n    }\r\n  }, [name, order, registerStep, unregisterStep, active, verison]); //listing for text changes and it is and component then it will cause infinite loop\r\n\r\n  useEffect(() => {\r\n    if (active) {\r\n      return () => {\r\n        if (registeredName.current) {\r\n          unregisterStep(registeredName.current);\r\n        }\r\n      };\r\n    }\r\n  }, [name, unregisterStep, active]);\r\n\r\n  const copilotProps = useMemo(\r\n    () => ({\r\n      ref: wrapperRef,\r\n      onLayout: () => {}, // Android hack\r\n    }),\r\n    []\r\n  );\r\n\r\n  return React.cloneElement(children, { copilot: copilotProps });\r\n};\r\n","import { StepNumber } from \"./components/default-ui/StepNumber\";\r\nimport { Tooltip } from \"./components/default-ui/Tooltip\";\r\nexport { walkthroughable } from \"./hocs/walkthroughable\";\r\nexport { CoachMarkStep } from \"./components/CoachMarkStep\";\r\nexport { CoachMarkProvider, useCoachMark } from \"./contexts/CoachMarkProvider\";\r\nexport type { CoachMarkOptions as CoachMarkProps, TooltipProps } from \"./types\";\r\n\r\nexport const DefaultUI = {\r\n  StepNumber,\r\n  Tooltip,\r\n};\r\n"],"mappings":"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","names":["React","View","React","useCallback","useEffect","useRef","useState","Animated","View","React","Text","View","React","useCallback","useMemo","useRef","useState","React","useCallback","useEffect","useRef","useState","Animated","Easing","View","React","Text","View","React","View","Text","CoachMarkModal","Easing","useState","Animated","useRef","useEffect","useCallback","React","View","useEffect","useRef","useState","useRef","useState","useEffect","useCallback","useState","useState","useCallback","useRef","useState","useCallback","_a","currentStep","useMemo","React","React","View","Text","React","React","React","useEffect","useMemo","useRef","useRef","React","measure","useEffect","useMemo"]}